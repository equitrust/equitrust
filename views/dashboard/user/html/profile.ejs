<!doctype html>

<html
  lang="en"
  class="light-style layout-menu-fixed layout-wide"
  dir="ltr"
  data-theme="theme-default"
  data-assets-pat="/assets/"
  data-template="vertical-menu-template-free"
  data-style="light">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0" />

    <title>Equitrust</title>

    <meta name="description" content="" />

    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="/img/favicon/favicon.ico" />

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&ampdisplay=swap"
      rel="stylesheet" />

    <link rel="stylesheet" href="/vendor/fonts/remixicon/remixicon.css" />

    <!-- Menu waves for no-customizer fix -->
    <link rel="stylesheet" href="/vendor/libs/node-waves/node-waves.css" />
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/5.3.0/css/bootstrap.min.css">
    <!-- Core CSS -->
    <link rel="stylesheet" href="/vendor/css/core.css" class="template-customizer-core-css" />
    <link rel="stylesheet" href="/vendor/css/theme-default.css" class="template-customizer-theme-css" />
    <link rel="stylesheet" href="/css/demo.css" />

    <!-- Vendors CSS -->
    <link rel="stylesheet" href="/vendor/libs/perfect-scrollbar/perfect-scrollbar.css" />

    <!-- Page CSS -->

    <!-- Helpers -->
    <script src="/vendor/js/helpers.js"></script>
    
    <script src="/js/config.js"></script>
  </head>

  <body >
    <!-- Layout wrapper -->
    
    <div class="layout-wrapper layout-content-navbar">
      <div class="layout-container">
        <!-- Menu -->

        <aside id="layout-menu" class="layout-menu menu-vertical menu bg-dark">
            <div class="app-brand demo">
              <a href="" class="app-brand-link">
                <span class="app-brand-logo demo me-1">
                  <span style="color: var(--bs-primary)">
                    <!-- adain logo goes here -->
                  </span>
                </span>
                <span class="app-brand-text text-white demo menu-text fw-semibold ms-2 p-4 m-4">Equitrust</span>
              </a>
  
            
            </div>
  
            <div class="menu-inner-shadow"></div>
  
            <ul class="menu-inner py-1 ">
              <!-- Dashboards -->
              <li class="menu-item active open">
                
                <ul class="menu-sub">
                  
                  <li class="menu-item ">
                    <a href="https://equitrust.vercel.app/api/users/dashboard/<%= user.id %>" class="menu-link">
                      <div data-i18n="Analytics" class="text-white">Dashboards</div>
                    </a>
                  </li>
                  
                 
                  
                </ul>
              </li>


              <li class="menu-item active open">
                
                <ul class="menu-sub">
                  
                  <li class="menu-item">
                    <a href="https://equitrust.vercel.app/api/users/payments/<%= user.id  %>" class="menu-link">
                      <div data-i18n="Analytics" class="text-white">Payments</div>
                    </a>
                  </li>
                  
                 
                  
                </ul>
              </li>


              <li class="menu-item active open">
                
                <ul class="menu-sub">
                  
                  <li class="menu-item ">
                    <a href="https://equitrust.vercel.app/api/users/plans/<%= user.id  %>" class="menu-link">
                      <div data-i18n="Analytics" class="text-white">Plans</div>
                    </a>
                  </li>
                  
                 
                  
                </ul>
              </li>



              <li class="menu-item active open">
                
                <ul class="menu-sub">
                  
                  <li class="menu-item ">
                    <a href="https://equitrust.vercel.app/api/users/payments/<%= user.id  %>" class="menu-link">
                      <div data-i18n="Analytics" class="text-white">All Transactions</div>
                    </a>
                  </li>
                  
                 
                  
                </ul>
              </li>


              



              <li class="menu-item active open">
                
                <ul class="menu-sub">
                  
                  <li class="menu-item  ">
                    <a href="https://equitrust.vercel.app/api/users/referred/<%= user.id %>" class="menu-link">
                      <div data-i18n="Analytics" class="text-white">Referall</div>
                    </a>
                  </li>
                  
                 
                  
                </ul>
              </li>
              

              
  
              <!-- Layouts -->
              
  
              <!-- Front Pages -->
              
  
              
              <!-- Pages -->
              <!-- <li class="menu-item">
                <a href="javascript:void(0);" class="menu-link menu-toggle">
                  <i class="menu-icon tf-icons ri-layout-left-line"></i>
                  <div data-i18n="Account Settings" class="text-white">Account Settings</div>
                </a>
                <ul class="menu-sub">
                  <li class="menu-item">
                    <a href="/settings-account" class="menu-link">
                      <div data-i18n="Account">Account</div>
                    </a>
                  </li>
                  <li class="menu-item">
                    <a href="pages-account-settings-notifications.html" class="menu-link">
                      <div data-i18n="Notifications">Notifications</div>
                    </a>
                  </li>
                  <li class="menu-item">
                    <a href="pages-account-settings-connections.html" class="menu-link">
                      <div data-i18n="Connections">Connections</div>
                    </a>
                  </li>
                </ul>
              </li> -->
              
              
              <!-- Components -->
             
              
  
             
             
            </ul>
          </aside>
        <!-- / Menu -->

        <!-- Layout container -->
        <div class="layout-page">
          <!-- Navbar -->

          <nav class="layout-navbar container-fluid navbar navbar-expand-xl navbar-detached align-items-center " id="layout-navbar">
            <div class="layout-menu-toggle navbar-nav align-items-xl-center me-4 me-xl-0 d-xl-none">
                <a class="nav-item nav-link px-0 me-xl-6" href="javascript:void(0)">
                    <i class="ri-menu-fill ri-24px"></i>
                </a>
            </div>
        
            <div class="navbar-nav-right d-flex align-items-center m-4" id="navbar-collapse">
                <ul class="navbar-nav flex-row align-items-center ms-auto">
        
                    <!-- Notification -->
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle hide-arrow" href="javascript:void(0);" data-bs-toggle="dropdown" aria-expanded="false">
                            <i class="ri-notification-2-line ri-24px"></i>
                            <!-- <span class="badge bg-danger rounded-circle">3</span> Number of notifications -->
                        </a>
                        <ul class="dropdown-menu dropdown-menu-end mt-3 py-2">
                            <li>
                                <h6 class="dropdown-header">Notifications</h6>
                            </li>
                            <li>
                                <a class="dropdown-item" href="#">
                                    <div class="d-flex align-items-center">
                                        <div class="flex-shrink-0">
                                            <i class="ri-alert-line ri-20px text-warning me-2"></i>
                                        </div>
                                        <div class="flex-grow-1">
                                            <span>You have 3 new messages</span>
                                        </div>
                                    </div>
                                </a>
                            </li>
                            <li>
                                <a class="dropdown-item" href="#">
                                    <div class="d-flex align-items-center">
                                        <div class="flex-shrink-0">
                                            <i class="ri-check-line ri-20px text-success me-2"></i>
                                        </div>
                                        <div class="flex-grow-1">
                                            <span>Your profile has been updated</span>
                                        </div>
                                    </div>
                                </a>
                            </li>
                            <li>
                                <a class="dropdown-item" href="#">
                                    <div class="d-flex align-items-center">
                                        <div class="flex-shrink-0">
                                            <i class="ri-settings-3-line ri-20px text-info me-2"></i>
                                        </div>
                                        <div class="flex-grow-1">
                                            <span>Settings have been changed</span>
                                        </div>
                                    </div>
                                </a>
                            </li>
                            <li>
                                <div class="dropdown-divider"></div>
                            </li>
                            <li>
                                <a class="dropdown-item text-center" href="#">
                                    View all notifications
                                </a>
                            </li>
                        </ul>
                    </li>
                    <!-- /Notification -->
        
                    <!-- User -->
                    <li class="nav-item navbar-dropdown dropdown-user dropdown">
                        <a class="nav-link dropdown-toggle hide-arrow p-0" href="javascript:void(0);" data-bs-toggle="dropdown">
                            <div class="avatar avatar-online">
                                <img src="<%= user.img %>" alt class="w-px-40 h-auto rounded-circle" />
                            </div>
                        </a>
                        <ul class="dropdown-menu dropdown-menu-end mt-3 py-2">
                            <li>
                                <a class="dropdown-item" href="#">
                                    <div class="d-flex align-items-center">
                                        <div class="flex-shrink-0 me-2">
                                            <div class="avatar avatar-online">
                                                <img src="<%= user.img %>" alt class="w-px-40 h-auto rounded-circle" />
                                            </div>
                                        </div>
                                        <div class="flex-grow-1">
                                            <h6 class="mb-0 small"><%= user.fullname %></h6>
                                            <small class="text-muted"><%= user.email %></small>

                                        </div>
                                    </div>
                                </a>
                            </li>
                            <li>
                                <div class="dropdown-divider"></div>
                            </li>
                            <li>
                                <a class="dropdown-item" href="https://equitrust.vercel.app/api/users/profile/<%= user.user_id %>">
                                    <i class="ri-user-3-line ri-22px me-2"></i>
                                    <span class="align-middle">My Profile</span>
                                </a>
                            </li>
                            <li>
                                <a class="dropdown-item" href="#">
                                    <i class="ri-settings-4-line ri-22px me-2"></i>
                                    <span class="align-middle">Settings</span>
                                </a>
                            </li>
                            <li>
                                <div class="dropdown-divider"></div>
                            </li>
                            <li>
                                <div class="d-grid px-4 pt-2 pb-1">
                                    <a class="btn btn-danger d-flex" href="/logout">
                                        <small class="align-middle">Logout</small>
                                        <i class="ri-logout-box-r-line ms-2 ri-16px"></i>
                                    </a>
                                </div>
                            </li>
                        </ul>
                    </li>
                    <!-- /User -->
                </ul>
            </div>
        </nav>
        

          <!-- / Navbar -->

          <!-- Content wrapper -->
          <div class="content-wrapper">
            <!-- Content -->
            
            <div class="container mt-5">
                <h1 class="text-center">Profile Page</h1>
                <div class="row">
                    <div class="col-md-4">
                        <div class="card">
                            <img src="<%= user.img %>" class="card-img-top" alt="Profile Picture">
                            <div class="card-body text-center">
                                <h5 class="card-title"><%= user.fullname %></h5>
                                <p class="card-text"><%= user.email %></p>
                                <p class="card-text"><%= user.country %></p>

                               
                                <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#editProfileModal">Add Profile</button>
                               
                            </div>
                        </div>
                    </div>

                    
                    <div class="col-md-8">
                      <h3>About Me</h3>
                  
                      <% if (result && Object.keys(result).length > 0) { %>
                          <p>
                              <%= result.username %>
                          </p>
                  
                          <p>
                              <%= result.bank_name %>
                          </p>
                  
                          <p>
                              <%= result.bank_account %>
                          </p>
                          
                          <p>
                              <%= result.bio %>
                          </p>
                      <% } else { %>
                          <p>No data available.</p>
                      <% } %>
                  </div>
                    
                </div>
            </div>

            
            
            <!-- Edit Profile Modal -->
            <div class="modal fade" id="editProfileModal" tabindex="-1" aria-labelledby="editProfileModalLabel" aria-hidden="true">
                <div class="modal-dialog">
                   
                   
                    <div class="modal-content">
                      
                       

                        
        
                            <div class="modal-header">
                                <h5 class="modal-title" id="editProfileModalLabel">Edit Profile</h5>
                                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                            </div>
        
                    
                        <div class="modal-body">
                            <form action="https://equitrust.vercel.app/api/users/createProfile" method="post" >
                                
                            <input type="text"  name="userId" class="form-control"  value="<%= user.id %>" hidden>
                                
                                <div class="mb-3">
                                    <label for="username" class="form-label">User Name</label>
                                    <input type="text"  name="username" class="form-control" id="username" >
                                </div>
                                <div class="mb-3">
                                    <label for="email" class="form-label">Email</label>
                                    <input type="email" class="form-control" id="email" value="<%=  user.email %>" disabled>
                                </div>

                                <div class="mb-3">
                                    <label for="bank_name" class="form-label">Bank Name</label>
                                    <input type="text" name="bank_name" class="form-control" id="email" >
                                </div>

                                <div class="mb-3">
                                    <label for="bank_name" class="form-label"> Bank Account</label>
                                    <input type="text" name="bank_account" class="form-control" id="email" >
                                </div>

                                <div class="mb-3">
                                    <label for="bio" class="form-label">About Me</label>
                                    <textarea class="form-control" name="bio" id="bio" rows="3">Lorem ipsum dolor sit amet, consectetur adipiscing elit.</textarea>
                                </div>

                                <div class="modal-footer">
                                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                                    <button type="submit" class="btn btn-primary">Update</button>
                                </div>
                            </form>
                        </div>
                        
                    </div>
                </div>
            </div>
            
          <!-- Content wrapper -->
        </div>
        <!-- / Layout page -->
      </div>

      <!-- Overlay -->
      <div class="layout-overlay layout-menu-toggle"></div>
     
    </div>
    <!-- / Layout wrapper -->
    <script src="https://static.elfsight.com/platform/platform.js" async></script>
    <div class="elfsight-app-df0a836d-2a85-4ed4-bde2-1ad714b991c0" data-elfsight-app-lazy></div>


    <!-- Core JS -->
    <!-- build:/vendor/js/core.js -->
    <script src="/vendor/libs/jquery/jquery.js"></script>
    <script src="/vendor/libs/popper/popper.js"></script>
    <script src="/vendor/js/bootstrap.js"></script>
    <script src="/vendor/libs/node-waves/node-waves.js"></script>
    <script src="/vendor/libs/perfect-scrollbar/perfect-scrollbar.js"></script>
    <script src="/vendor/js/menu.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>

    <!-- endbuild -->

    <!-- Vendors JS -->

    <!-- Main JS -->
    <script src="/js/main1.js"></script>

    <!-- Page JS -->

    <!-- Place this tag before closing body tag for github widget button. -->
    <script async defer src="https://buttons.github.io/buttons.js"></script>
  </body>
</html>
